import{_ as n,c as a,o as l,ae as p}from"./chunks/framework.BXQRUG6O.js";const y=JSON.parse('{"title":"API 概览","description":"","frontmatter":{},"headers":[],"relativePath":"zh/api/overview.md","filePath":"zh/api/overview.md","lastUpdated":null}'),o={name:"zh/api/overview.md"};function e(t,s,r,c,i,F){return l(),a("div",null,s[0]||(s[0]=[p(`<h1 id="api-概览" tabindex="-1">API 概览 <a class="header-anchor" href="#api-概览" aria-label="Permalink to &quot;API 概览&quot;">​</a></h1><p>Go NPM SDK 为Go应用程序中的npm操作提供了一套全面的API。SDK被组织成几个包，每个包都有特定的用途。</p><h2 id="包结构" tabindex="-1">包结构 <a class="header-anchor" href="#包结构" aria-label="Permalink to &quot;包结构&quot;">​</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span>github.com/scagogogo/go-npm-sdk/</span></span>
<span class="line"><span>├── pkg/npm/           # 核心npm操作</span></span>
<span class="line"><span>├── pkg/platform/      # 平台检测和下载</span></span>
<span class="line"><span>└── pkg/utils/         # 工具函数</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="核心包" tabindex="-1">核心包 <a class="header-anchor" href="#核心包" aria-label="Permalink to &quot;核心包&quot;">​</a></h2><h3 id="pkg-npm" tabindex="-1">pkg/npm <a class="header-anchor" href="#pkg-npm" aria-label="Permalink to &quot;pkg/npm&quot;">​</a></h3><p>包含npm客户端实现和相关功能的主要包：</p><ul><li><strong>客户端接口</strong>: 所有操作的主要npm客户端</li><li><strong>安装器</strong>: 自动npm安装管理</li><li><strong>检测器</strong>: npm可用性检测</li><li><strong>便携版管理器</strong>: 便携版npm版本管理</li><li><strong>包管理器</strong>: package.json文件操作</li><li><strong>依赖管理器</strong>: 依赖解析和管理</li><li><strong>类型</strong>: 数据结构和接口</li><li><strong>错误</strong>: 错误类型和处理</li></ul><h3 id="pkg-platform" tabindex="-1">pkg/platform <a class="header-anchor" href="#pkg-platform" aria-label="Permalink to &quot;pkg/platform&quot;">​</a></h3><p>平台特定功能：</p><ul><li><strong>检测器</strong>: 操作系统和架构检测</li><li><strong>下载器</strong>: 带进度跟踪的文件下载功能</li></ul><h3 id="pkg-utils" tabindex="-1">pkg/utils <a class="header-anchor" href="#pkg-utils" aria-label="Permalink to &quot;pkg/utils&quot;">​</a></h3><p>工具函数：</p><ul><li><strong>执行器</strong>: 具有高级功能的命令执行</li></ul><h2 id="关键接口" tabindex="-1">关键接口 <a class="header-anchor" href="#关键接口" aria-label="Permalink to &quot;关键接口&quot;">​</a></h2><h3 id="客户端接口" tabindex="-1">客户端接口 <a class="header-anchor" href="#客户端接口" aria-label="Permalink to &quot;客户端接口&quot;">​</a></h3><p>npm操作的主要接口：</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">type</span><span style="color:#FFCB6B;"> Client</span><span style="color:#89DDFF;"> interface</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // 基本操作</span></span>
<span class="line"><span style="color:#82AAFF;">    IsAvailable</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;"> bool</span></span>
<span class="line"><span style="color:#82AAFF;">    Install</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;"> error</span></span>
<span class="line"><span style="color:#82AAFF;">    Version</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> (</span><span style="color:#C792EA;">string</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;"> error</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">    </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // 项目管理</span></span>
<span class="line"><span style="color:#82AAFF;">    Init</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> options</span><span style="color:#FFCB6B;"> InitOptions</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;"> error</span></span>
<span class="line"><span style="color:#BABED8;">    </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // 包操作</span></span>
<span class="line"><span style="color:#82AAFF;">    InstallPackage</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> pkg</span><span style="color:#C792EA;"> string</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> options</span><span style="color:#FFCB6B;"> InstallOptions</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;"> error</span></span>
<span class="line"><span style="color:#82AAFF;">    UninstallPackage</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> pkg</span><span style="color:#C792EA;"> string</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> options</span><span style="color:#FFCB6B;"> UninstallOptions</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;"> error</span></span>
<span class="line"><span style="color:#82AAFF;">    UpdatePackage</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> pkg</span><span style="color:#C792EA;"> string</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;"> error</span></span>
<span class="line"><span style="color:#82AAFF;">    ListPackages</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> options</span><span style="color:#FFCB6B;"> ListOptions</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> ([]</span><span style="color:#FFCB6B;">Package</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;"> error</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">    </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // 脚本执行</span></span>
<span class="line"><span style="color:#82AAFF;">    RunScript</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> script</span><span style="color:#C792EA;"> string</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> args</span><span style="color:#89DDFF;"> ...</span><span style="color:#C792EA;">string</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;"> error</span></span>
<span class="line"><span style="color:#BABED8;">    </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // 发布</span></span>
<span class="line"><span style="color:#82AAFF;">    Publish</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> options</span><span style="color:#FFCB6B;"> PublishOptions</span><span style="color:#89DDFF;">)</span><span style="color:#C792EA;"> error</span></span>
<span class="line"><span style="color:#BABED8;">    </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    // 信息检索</span></span>
<span class="line"><span style="color:#82AAFF;">    GetPackageInfo</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> pkg</span><span style="color:#C792EA;"> string</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> (*</span><span style="color:#FFCB6B;">PackageInfo</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;"> error</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">    Search</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">ctx</span><span style="color:#FFCB6B;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;font-style:italic;"> query</span><span style="color:#C792EA;"> string</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> ([]</span><span style="color:#FFCB6B;">SearchResult</span><span style="color:#89DDFF;">,</span><span style="color:#C792EA;"> error</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="常见模式" tabindex="-1">常见模式 <a class="header-anchor" href="#常见模式" aria-label="Permalink to &quot;常见模式&quot;">​</a></h2><h3 id="context使用" tabindex="-1">Context使用 <a class="header-anchor" href="#context使用" aria-label="Permalink to &quot;Context使用&quot;">​</a></h3><p>所有操作都接受<code>context.Context</code>参数用于取消和超时控制：</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#BABED8;">ctx</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> cancel </span><span style="color:#89DDFF;">:=</span><span style="color:#BABED8;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">WithTimeout</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">context</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Background</span><span style="color:#89DDFF;">(),</span><span style="color:#F78C6C;"> 30</span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;">time</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">Second</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">defer</span><span style="color:#82AAFF;"> cancel</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">result</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> err </span><span style="color:#89DDFF;">:=</span><span style="color:#BABED8;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">InstallPackage</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">ctx</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">lodash</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#FFCB6B;"> npm</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">InstallOptions</span><span style="color:#89DDFF;">{})</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="错误处理" tabindex="-1">错误处理 <a class="header-anchor" href="#错误处理" aria-label="Permalink to &quot;错误处理&quot;">​</a></h3><p>SDK提供结构化错误类型以便更好地处理错误：</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> err </span><span style="color:#89DDFF;">!=</span><span style="color:#89DDFF;"> nil</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    if</span><span style="color:#BABED8;"> npm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">IsNpmNotFound</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">err</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        // 处理npm未找到</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span><span style="color:#89DDFF;font-style:italic;"> else</span><span style="color:#89DDFF;font-style:italic;"> if</span><span style="color:#BABED8;"> npm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">IsPackageNotFound</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">err</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        // 处理包未找到</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span><span style="color:#89DDFF;font-style:italic;"> else</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">        // 处理其他错误</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="选项模式" tabindex="-1">选项模式 <a class="header-anchor" href="#选项模式" aria-label="Permalink to &quot;选项模式&quot;">​</a></h3><p>大多数操作使用选项结构体进行配置：</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#BABED8;">options </span><span style="color:#89DDFF;">:=</span><span style="color:#FFCB6B;"> npm</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">InstallOptions</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">    SaveDev</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;">    true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    SaveExact</span><span style="color:#89DDFF;">:</span><span style="color:#FF9CAC;">  true</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    WorkingDir</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">/path/to/project</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">    Registry</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">   &quot;</span><span style="color:#C3E88D;">https://registry.npmjs.org/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">err </span><span style="color:#89DDFF;">:=</span><span style="color:#BABED8;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">InstallPackage</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">ctx</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">typescript</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> options</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="快速开始" tabindex="-1">快速开始 <a class="header-anchor" href="#快速开始" aria-label="Permalink to &quot;快速开始&quot;">​</a></h2><ol><li><p><strong>导入包</strong>:</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#FFCB6B;">github.com/scagogogo/go-npm-sdk/pkg/npm</span><span style="color:#89DDFF;">&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><strong>创建客户端</strong>:</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#BABED8;">client</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> err </span><span style="color:#89DDFF;">:=</span><span style="color:#BABED8;"> npm</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">NewClient</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> err </span><span style="color:#89DDFF;">!=</span><span style="color:#89DDFF;"> nil</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#BABED8;">    log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Fatal</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">err</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p><strong>使用客户端</strong>:</p><div class="language-go line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#BABED8;">ctx </span><span style="color:#89DDFF;">:=</span><span style="color:#BABED8;"> context</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Background</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#89DDFF;"> !</span><span style="color:#BABED8;">client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">IsAvailable</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">ctx</span><span style="color:#89DDFF;">)</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#BABED8;">    err </span><span style="color:#89DDFF;">:=</span><span style="color:#BABED8;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Install</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">ctx</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">    if</span><span style="color:#BABED8;"> err </span><span style="color:#89DDFF;">!=</span><span style="color:#89DDFF;"> nil</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#BABED8;">        log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Fatal</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">err</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    }</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">version</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> err </span><span style="color:#89DDFF;">:=</span><span style="color:#BABED8;"> client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Version</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">ctx</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#BABED8;"> err </span><span style="color:#89DDFF;">!=</span><span style="color:#89DDFF;"> nil</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#BABED8;">    log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Fatal</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">err</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#BABED8;">fmt</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Printf</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">npm版本: </span><span style="color:#F07178;">%s</span><span style="color:#BABED8;">\\n</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> version</span><span style="color:#89DDFF;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li></ol><h2 id="下一步" tabindex="-1">下一步 <a class="header-anchor" href="#下一步" aria-label="Permalink to &quot;下一步&quot;">​</a></h2><ul><li><a href="./client.html">客户端接口</a> - 详细的客户端API文档</li><li><a href="./npm.html">NPM包</a> - 完整的npm包参考</li><li><a href="./platform.html">平台包</a> - 平台检测和下载API</li><li><a href="./utils.html">工具包</a> - 工具函数参考</li><li><a href="./types-errors.html">类型与错误</a> - 数据类型和错误处理</li></ul>`,32)]))}const B=n(o,[["render",e]]);export{y as __pageData,B as default};
